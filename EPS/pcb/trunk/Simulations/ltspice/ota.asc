Version 4
SHEET 1 1756 844
WIRE 0 -96 -128 -96
WIRE 32 -96 0 -96
WIRE 192 -96 112 -96
WIRE 784 -96 192 -96
WIRE -128 -48 -128 -96
WIRE -176 -32 -224 -32
WIRE -640 0 -672 0
WIRE -544 0 -560 0
WIRE -176 16 -224 16
WIRE 496 16 400 16
WIRE 576 16 496 16
WIRE -112 32 -128 32
WIRE -672 48 -672 0
WIRE -128 48 -128 32
WIRE 192 48 192 -96
WIRE 400 48 400 16
WIRE 576 48 576 16
WIRE 784 48 784 -96
WIRE 352 112 336 112
WIRE 736 112 720 112
WIRE -128 144 -128 128
WIRE 144 144 144 112
WIRE 336 144 336 112
WIRE 528 144 528 112
WIRE 720 144 720 112
WIRE -544 176 -544 0
WIRE -544 176 -624 176
WIRE -384 176 -544 176
WIRE -128 176 -304 176
WIRE 32 176 -128 176
WIRE 192 176 192 128
WIRE 192 176 112 176
WIRE 400 176 400 128
WIRE 400 176 192 176
WIRE 784 192 784 128
WIRE -544 224 -544 176
WIRE 576 224 576 208
WIRE 784 288 784 272
WIRE -544 320 -544 304
WIRE -128 352 -128 176
WIRE 0 368 0 -96
WIRE 32 368 0 368
WIRE 192 368 112 368
WIRE 784 368 192 368
WIRE -384 448 -544 448
WIRE -128 448 -128 352
WIRE -128 448 -304 448
WIRE 496 480 400 480
WIRE 576 480 496 480
WIRE -544 496 -544 448
WIRE 192 512 192 368
WIRE 400 512 400 480
WIRE 576 512 576 480
WIRE 784 512 784 368
WIRE 352 576 336 576
WIRE 736 576 720 576
WIRE -544 592 -544 576
WIRE 144 608 144 576
WIRE 336 608 336 576
WIRE 528 608 528 576
WIRE 720 608 720 576
WIRE -128 640 -128 448
WIRE 32 640 -128 640
WIRE 192 640 192 592
WIRE 192 640 112 640
WIRE 400 640 400 592
WIRE 400 640 192 640
WIRE 784 656 784 592
WIRE 576 688 576 672
WIRE 784 752 784 736
FLAG -128 144 0
FLAG 144 144 0
FLAG 336 144 0
FLAG -544 320 0
FLAG 720 144 0
FLAG 784 288 0
FLAG 496 -64 0
FLAG 144 608 0
FLAG 336 608 0
FLAG 720 608 0
FLAG 784 752 0
FLAG 96 -48 0
FLAG -112 32 Gi
FLAG 144 64 Gi
FLAG 352 64 Gi
FLAG 736 64 Gi
FLAG 48 -48 Gi
FLAG 144 528 Gi
FLAG 352 528 Gi
FLAG 736 528 Gi
FLAG 96 224 0
FLAG 48 224 Gi
FLAG 48 416 0
FLAG 96 416 Gi
FLAG 48 688 0
FLAG 96 688 Gi
FLAG 528 64 Gi
FLAG 528 144 0
FLAG 576 224 0
FLAG 496 400 0
FLAG 528 528 Gi
FLAG 528 608 0
FLAG 576 688 0
FLAG -224 -32 noninvin
FLAG -224 16 invin
FLAG -624 176 out
FLAG -368 224 0
FLAG -320 496 0
FLAG -544 592 0
FLAG -576 48 0
FLAG -672 48 0
FLAG -128 352 int_out
FLAG -320 224 int_out
FLAG -368 496 int_out
FLAG -624 48 int_out
SYMBOL g -128 -64 R0
WINDOW 0 72 40 Right 2
WINDOW 3 94 71 Right 2
SYMATTR InstName G1
SYMATTR Value {Gm}
SYMBOL res -144 32 R0
WINDOW 0 38 43 Left 2
WINDOW 3 36 64 Left 2
SYMATTR InstName R3
SYMATTR Value 1R
SYMBOL sw 192 32 R0
WINDOW 0 36 40 Left 2
WINDOW 3 35 66 Left 2
SYMATTR InstName S1
SYMATTR Value NORMAL
SYMBOL sw 400 32 R0
WINDOW 0 36 40 Left 2
WINDOW 3 35 66 Left 2
SYMATTR InstName S2
SYMATTR Value LIMIT
SYMBOL res -560 208 R0
SYMATTR InstName R4
SYMATTR Value {Ro}
SYMBOL sw 784 32 R0
WINDOW 0 36 40 Left 2
WINDOW 3 35 66 Left 2
SYMATTR InstName S3
SYMATTR Value LIMIT
SYMBOL res 768 176 R0
WINDOW 3 36 68 Left 2
SYMATTR Value {Ro}
SYMATTR InstName R1
SYMBOL sw 192 608 M180
WINDOW 0 36 40 Left 2
WINDOW 3 35 66 Left 2
SYMATTR InstName S4
SYMATTR Value NORMAL
SYMBOL sw 400 608 M180
WINDOW 0 36 40 Left 2
WINDOW 3 35 66 Left 2
SYMATTR InstName S5
SYMATTR Value LIMIT
SYMBOL sw 784 608 M180
WINDOW 0 36 40 Left 2
WINDOW 3 35 66 Left 2
SYMATTR InstName S6
SYMATTR Value LIMIT
SYMBOL res 768 640 R0
WINDOW 3 36 66 Left 2
SYMATTR Value {Ro}
SYMATTR InstName R6
SYMBOL sw 16 -96 R270
WINDOW 0 80 49 VRight 2
WINDOW 3 50 12 VRight 2
SYMATTR InstName S7
SYMATTR Value RailSelect
SYMBOL sw 16 176 R270
WINDOW 0 77 40 VRight 2
WINDOW 3 50 5 VRight 2
SYMATTR InstName S8
SYMATTR Value RailSelect
SYMBOL sw 16 368 R270
WINDOW 0 82 37 VRight 2
WINDOW 3 54 2 VRight 2
SYMATTR InstName S9
SYMATTR Value RailSelect
SYMBOL sw 16 640 R270
WINDOW 0 83 38 VRight 2
WINDOW 3 53 4 VRight 2
SYMATTR InstName S10
SYMATTR Value RailSelect
SYMBOL current 496 -64 R0
WINDOW 0 41 19 Left 2
WINDOW 3 37 44 Left 2
SYMATTR InstName I1
SYMATTR Value {Ilimit}
SYMBOL res 560 112 R0
SYMATTR InstName R7
SYMATTR Value {Ro}
SYMBOL sw 576 32 R0
WINDOW 0 36 40 Left 2
WINDOW 3 35 66 Left 2
SYMATTR InstName S11
SYMATTR Value NORMAL
SYMBOL current 496 480 R180
WINDOW 0 41 59 Left 2
WINDOW 3 37 35 Left 2
SYMATTR InstName I2
SYMATTR Value {Ilimit}
SYMBOL res 560 576 R0
SYMATTR InstName R2
SYMATTR Value {Ro}
SYMBOL sw 576 608 M180
WINDOW 0 36 40 Left 2
WINDOW 3 35 66 Left 2
SYMATTR InstName S12
SYMATTR Value NORMAL
SYMBOL sw -400 176 R270
WINDOW 0 80 35 VRight 2
WINDOW 3 51 2 VRight 2
SYMATTR InstName S13
SYMATTR Value RailSelect
SYMBOL sw -400 448 R270
WINDOW 0 80 35 VRight 2
WINDOW 3 51 2 VRight 2
SYMATTR InstName S14
SYMATTR Value RailSelect
SYMBOL res -560 480 R0
SYMATTR InstName R5
SYMATTR Value {Ro}
SYMBOL sw -656 0 R270
WINDOW 0 80 35 VRight 2
WINDOW 3 51 2 VRight 2
SYMATTR InstName S15
SYMATTR Value RailSelect
TEXT -800 -200 Left 2 !.model NORMAL SW(Ron=500Meg Roff=0.00001 Vt={Ilimit} Vh=0)
TEXT -800 -168 Left 2 !.model LIMIT SW(Ron=0.00001 Roff=500Meg Vt={Ilimit} Vh=0)
TEXT -800 -136 Left 2 !.model RailSelect SW(Ron=0.00001 Roff=500Meg Vt=0V Vh=0)
TEXT -800 664 Left 3 ;Author: Piotr Kuligowski\nWWW: piotrKuligowski.pl\nEmail: kontakt@piotrKuligowski.pl\nAll rights reserved!
TEXT -800 -296 Left 3 ;Current-limited operational transconductance amplifier
TEXT -800 -264 Left 3 ;2015-12-14
TEXT 248 -296 Left 2 ;An example of configuration of the model:\n.params Ilimit=2 Gm=7 Ro=1R\nWhere:\n- Ilimit - output current limit\n- Gm - transconductance of the amplifier\n- Ro - output resistance of the amplifier
